(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-605d22df"],{"54ea":function(e,t,i){"use strict";var o=i("6100"),r=i.n(o);r.a},6100:function(e,t,i){},"617b":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("g-canvas",{ref:"gcanvas"})],1)},r=[],a=(i("ace4"),i("0d03"),i("d3b7"),i("cfc3"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a9"),i("72f7"),i("f31e")),n=i("7c72"),s={name:"loadTextured",components:{gCanvas:a["a"]},data:function(){return{canvas:null,gl:null,a_Position:null,a_PointSize:null,u_FragColor:null,a_Color:null,u_ModelMatrix:null,VSHADER_SOURCE:"attribute vec4 a_Position;\nattribute float a_PointSize;\nattribute vec2 a_TexCoord;\nvarying vec2 v_TexCoord;\nuniform mat4 u_ModelMatrix;\nvoid main() {\n  gl_Position = u_ModelMatrix * a_Position;\n  gl_PointSize = a_PointSize;\n  v_TexCoord = a_TexCoord;\n}\n",FSHADER_SOURCE:"precision mediump float;\nuniform sampler2D u_Sampler;\nuniform sampler2D u_Sampler1;\nvarying vec2 v_TexCoord;\nvoid main() {\n  vec4 color = texture2D(u_Sampler, v_TexCoord);\n  vec4 color1 = texture2D(u_Sampler1, v_TexCoord);\n  gl_FragColor = color * color1;\n}\n",g_last:Date.now(),speedX:0,speedY:0,speedAngle:0,curAngle:0,curX:0,curY:0,verticesSizeColorTexCoords:new Float32Array([-.5,.5,10,0,1,-.5,-.5,20,0,0,.5,.5,30,1,1,.5,-.5,40,1,0]),modelMatrix:new n["a"],u_Sampler:null,u_Sampler1:null,g_texUnit:!1,g_texUnit1:!1}},created:function(){},mounted:function(){this.gl=this.$refs.gcanvas.gl,this.canvas=this.$refs.gcanvas.canvas,this.$refs.gcanvas.initShaders(this.gl,this.VSHADER_SOURCE,this.FSHADER_SOURCE)?(this.speedX=this.speedX/this.canvas.width,this.speedY=this.speedY/this.canvas.height,this.init(this.gl)):console.log("Failed to intialize shaders.")},methods:{init:function(e){if(this.a_Position=e.getAttribLocation(e.program,"a_Position"),this.a_Position<0)console.log("Failed to get the storage location of a_Position");else if(this.a_PointSize=e.getAttribLocation(e.program,"a_PointSize"),this.a_PointSize<0)console.log("Failed to get the storage location of a_PointSize");else{if(this.a_TexCoord=e.getAttribLocation(e.program,"a_TexCoord"),this.a_TexCoord<0)return console.log("Failed to get the storage location of a_TexCoord"),-1;if(this.u_Sampler=e.getUniformLocation(e.program,"u_Sampler"),!this.u_Sampler)return console.log("Failed to get the storage location of u_Sampler"),!1;if(this.u_Sampler1=e.getUniformLocation(e.program,"u_Sampler1"),!this.u_Sampler1)return console.log("Failed to get the storage location of u_Sampler"),!1;this.u_ModelMatrix=e.getUniformLocation(e.program,"u_ModelMatrix"),this.u_ModelMatrix?(e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),this.initVertexBuffers(e)<0?console.log("Failed to set the positions of the vertices"):this.initTextures(e,4)?this.tick():console.log("Failed to intialize the texture.")):console.log("Failed to get the storage location of u_ModelMatrix")}},initTextures:function(e){var t=this,o=e.createTexture(),r=e.createTexture();if(!o)return console.log("Failed to create the texture object"),!1;var a=new Image,n=new Image;return a&&n?(a.onload=function(){t.loadTexture(e,o,t.u_Sampler,a,0)},a.src=i("e4fe"),n.onload=function(){t.loadTexture(e,r,t.u_Sampler1,n,1)},n.src=i("a3cc"),!0):(console.log("Failed to create the image object"),!1)},loadTexture:function(e,t,i,o,r){e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1),0==r?(e.activeTexture(e.TEXTURE0),this.g_texUnit0=!0):(e.activeTexture(e.TEXTURE1),this.g_texUnit1=!0),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o),e.uniform1i(i,r)},initVertexBuffers:function(e){var t=e.createBuffer();if(!t)return console.log("Failed to create the buffer object"),-1;e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,this.verticesSizeColorTexCoords,e.STATIC_DRAW);var i=this.verticesSizeColorTexCoords.BYTES_PER_ELEMENT;e.vertexAttribPointer(this.a_Position,2,e.FLOAT,!1,5*i,0),e.enableVertexAttribArray(this.a_Position),e.vertexAttribPointer(this.a_PointSize,1,e.FLOAT,!1,5*i,2*i),e.enableVertexAttribArray(this.a_PointSize),e.vertexAttribPointer(this.a_TexCoord,2,e.FLOAT,!1,5*i,3*i),e.enableVertexAttribArray(this.a_TexCoord)},tick:function(e){this.rotatedGraphics(),this.draw(),requestAnimationFrame(this.tick,this.canvas)},draw:function(){this.gl.uniformMatrix4fv(this.u_ModelMatrix,!1,this.modelMatrix.elements),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.POINTS,0,4),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)},animate:function(e){var t=Date.now(),i=t-this.g_last;this.g_last=t;var o=e+this.speedAngle*i/1e3;return o%360},rotatedGraphics:function(){this.curAngle=this.animate(this.curAngle),(this.curX>=.5||this.curX<=-.5)&&(this.speedX=-this.speedX),(this.curY>=.5||this.curY<=-.5)&&(this.speedY=-this.speedY),this.curX+=this.speedX,this.curY+=this.speedY,this.modelMatrix.setTranslate(this.curX,this.curY,0),this.modelMatrix.rotate(this.curAngle,0,0,1)}},beforeDestroy:function(){this.canvas.removeEventListener("mousedown",this.onClick)}},l=s,c=(i("54ea"),i("2877")),u=Object(c["a"])(l,o,r,!1,null,"be5a5b7c",null);t["default"]=u.exports},a3cc:function(e,t,i){e.exports=i.p+"img/circle.def06678.gif"},e4fe:function(e,t,i){e.exports=i.p+"img/sky.2b11efd6.jpg"}}]);
//# sourceMappingURL=chunk-605d22df.9e627980.js.map