{"version":3,"sources":["webpack:///./src/components/webgl/rotatedGraphics.vue?12b0","webpack:///src/components/webgl/rotatedGraphics.vue","webpack:///./src/components/webgl/rotatedGraphics.vue?cfa7","webpack:///./src/components/webgl/rotatedGraphics.vue","webpack:///./src/components/webgl/rotatedGraphics.vue?a1e8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","staticRenderFns","name","components","gCanvas","data","canvas","gl","a_Position","a_PointSize","u_FragColor","a_Color","u_ModelMatrix","vertexSizeBuffer","VSHADER_SOURCE","FSHADER_SOURCE","g_last","Date","now","speedX","speedY","speedAngle","curAngle","curX","curY","verticesSizeColor","Float32Array","modelMatrix","created","mounted","$refs","gcanvas","width","height","init","console","log","methods","getAttribLocation","program","getUniformLocation","clearColor","clear","COLOR_BUFFER_BIT","initVertexBuffers","tick","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","FSIZE","enableVertexAttribArray","rotatedGraphics","draw","requestAnimationFrame","uniformMatrix4fv","drawArrays","POINTS","TRIANGLES","animate","setTranslate","rotate","beforeDestroy","removeEventListener","onClick","component"],"mappings":"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","file":"js/chunk-2f8609ea.23f234c5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('g-canvas',{ref:\"gcanvas\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrapper\">\r\n    <g-canvas ref=\"gcanvas\"></g-canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gCanvas from \"./canvas\";\r\nimport { Matrix4 } from \"@/util/cuon-matrix.js\";\r\nexport default {\r\n  name: \"rotatedGraphics\",\r\n  components: {\r\n    gCanvas\r\n  },\r\n  data() {\r\n    return {\r\n      canvas: null,\r\n      gl: null,\r\n      a_Position: null,\r\n      a_PointSize: null,\r\n      u_FragColor: null,\r\n      a_Color: null,\r\n      u_ModelMatrix: null,\r\n      vertexSizeBuffer: null,\r\n      VSHADER_SOURCE:\r\n        \"attribute vec4 a_Position;\\n\" +\r\n        \"attribute float a_PointSize;\\n\" +\r\n        \"attribute vec4 a_Color;\\n\" +\r\n        \"varying vec4 v_Color;\\n\" + // varying variable\r\n        \"uniform mat4 u_ModelMatrix;\\n\" +\r\n        \"void main() {\\n\" +\r\n        \"  gl_Position = u_ModelMatrix * a_Position;\\n\" +\r\n        \"  gl_PointSize = a_PointSize;\\n\" +\r\n        \"  v_Color = a_Color;\\n\" + // Pass the data to the fragment shader\r\n        \"}\\n\",\r\n      FSHADER_SOURCE:\r\n        \"precision mediump float;\\n\" +\r\n        \"uniform vec4 u_FragColor;\\n\" +\r\n        \"varying vec4 v_Color;\\n\" + // Receive the data from the vertex shader\r\n        \"void main() {\\n\" +\r\n        \"  gl_FragColor = v_Color;\\n\" +\r\n        \"}\\n\",\r\n      g_last: Date.now(),\r\n      speedX: 10,\r\n      speedY: 10,\r\n      speedAngle: 90,\r\n      curAngle: 0.0,\r\n      curX: 0.0,\r\n      curY: 0.0,\r\n      verticesSizeColor: new Float32Array([\r\n        0,\r\n        0.5,\r\n        10.0,\r\n        1.0,\r\n        0.0,\r\n        0.0,\r\n        -0.5,\r\n        -0.5,\r\n        20.0,\r\n        0.0,\r\n        1.0,\r\n        0.0,\r\n        0.5,\r\n        -0.5,\r\n        30.0,\r\n        0.0,\r\n        0.0,\r\n        1.0\r\n      ]),\r\n      modelMatrix: new Matrix4()\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.gl = this.$refs.gcanvas.gl;\r\n    this.canvas = this.$refs.gcanvas.canvas;\r\n    if (\r\n      !this.$refs.gcanvas.initShaders(\r\n        this.gl,\r\n        this.VSHADER_SOURCE,\r\n        this.FSHADER_SOURCE\r\n      )\r\n    ) {\r\n      console.log(\"Failed to intialize shaders.\");\r\n      return;\r\n    }\r\n    this.speedX = this.speedX / this.canvas.width;\r\n    this.speedY = this.speedY / this.canvas.height;\r\n    this.init(this.gl);\r\n  },\r\n  methods: {\r\n    init(gl) {\r\n      this.a_Position = gl.getAttribLocation(gl.program, \"a_Position\");\r\n      if (this.a_Position < 0) {\r\n        console.log(\"Failed to get the storage location of a_Position\");\r\n        return;\r\n      }\r\n      this.a_PointSize = gl.getAttribLocation(gl.program, \"a_PointSize\");\r\n      if (this.a_PointSize < 0) {\r\n        console.log(\"Failed to get the storage location of a_PointSize\");\r\n        return;\r\n      }\r\n    //   this.u_FragColor = gl.getUniformLocation(gl.program, \"u_FragColor\");\r\n    //   if (!this.u_FragColor) {\r\n    //     console.log(\"Failed to get the storage location of u_FragColor\");\r\n    //     return;\r\n    //   }\r\n      this.a_Color = gl.getAttribLocation(gl.program, \"a_Color\");\r\n      if (this.a_Color < 0) {\r\n        console.log(\"Failed to get the storage location of a_Color\");\r\n        return -1;\r\n      }\r\n      // Pass the rotation matrix to the vertex shader\r\n      this.u_ModelMatrix = gl.getUniformLocation(gl.program, \"u_ModelMatrix\");\r\n      if (!this.u_ModelMatrix) {\r\n        console.log(\"Failed to get the storage location of u_ModelMatrix\");\r\n        return;\r\n      }\r\n      gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n      // Clear the color buffer with specified clear color\r\n      gl.clear(gl.COLOR_BUFFER_BIT);\r\n      if (this.initVertexBuffers(gl) < 0) {\r\n        console.log(\"Failed to set the positions of the vertices\");\r\n        return;\r\n      }\r\n      this.tick();\r\n    },\r\n    initVertexBuffers(gl) {\r\n      this.vertexSizeBuffer = gl.createBuffer();\r\n      if (!this.vertexSizeBuffer) {\r\n        console.log(\"Failed to create the buffer object\");\r\n        return -1;\r\n      }\r\n      // Bind the buffer object to target\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexSizeBuffer);\r\n      // Write date into the buffer object\r\n      gl.bufferData(gl.ARRAY_BUFFER, this.verticesSizeColor, gl.STATIC_DRAW);\r\n\r\n      let FSIZE = this.verticesSizeColor.BYTES_PER_ELEMENT;\r\n      // Assign the buffer object to a_Position letiable\r\n      gl.vertexAttribPointer(this.a_Position, 2, gl.FLOAT, false, FSIZE * 6, 0);\r\n      // Enable the assignment to a_Position letiable\r\n      gl.enableVertexAttribArray(this.a_Position);\r\n\r\n      gl.vertexAttribPointer( this.a_PointSize, 1, gl.FLOAT, false, FSIZE * 6, FSIZE * 2 );\r\n      gl.enableVertexAttribArray(this.a_PointSize);\r\n      \r\n      gl.vertexAttribPointer( this.a_Color, 3, gl.FLOAT, false, FSIZE * 6, FSIZE * 3 );\r\n      gl.enableVertexAttribArray(this.a_Color);\r\n    },\r\n    tick(event) {\r\n      this.rotatedGraphics();\r\n      this.draw(); // Draw the triangle\r\n      requestAnimationFrame(this.tick, this.canvas); // Request that the browser calls tick\r\n    },\r\n    draw() {\r\n      this.gl.uniformMatrix4fv(\r\n        this.u_ModelMatrix,\r\n        false,\r\n        this.modelMatrix.elements\r\n      );\r\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n      this.gl.drawArrays(this.gl.POINTS, 0, 3);\r\n      this.gl.drawArrays(this.gl.TRIANGLES, 0, 3);\r\n    },\r\n    // Last time that this function was called\r\n    animate(angle) {\r\n      // Calculate the elapsed time\r\n      let now = Date.now();\r\n      let elapsed = now - this.g_last;\r\n      this.g_last = now;\r\n      // Update the current rotation angle (adjusted by the elapsed time)\r\n      let newAngle = angle + (this.speedAngle * elapsed) / 1000.0;\r\n      return (newAngle %= 360);\r\n    },\r\n    rotatedGraphics() {\r\n      this.curAngle = this.animate(this.curAngle);\r\n      if (this.curX >= 0.5 || this.curX <= -0.5) {\r\n        // this.gl.uniform4fv(this.u_FragColor, [\r\n        //   Math.random(),\r\n        //   Math.random(),\r\n        //   Math.random(),\r\n        //   0.5\r\n        // ]);\r\n        this.speedX = -this.speedX;\r\n      }\r\n      if (this.curY >= 0.5 || this.curY <= -0.5) {\r\n        // this.gl.uniform4fv(this.u_FragColor, [\r\n        //   Math.random(),\r\n        //   Math.random(),\r\n        //   Math.random(),\r\n        //   0.5\r\n        // ]);\r\n        this.speedY = -this.speedY;\r\n      }\r\n      this.curX += this.speedX;\r\n      this.curY += this.speedY;\r\n      this.modelMatrix.setTranslate(this.curX, this.curY, 0); // Multiply modelMatrix by the calculated translation matrix\r\n      this.modelMatrix.rotate(this.curAngle, 0, 0, 1); // Rotation angle, rotation axis (0, 0, 1)\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.canvas.removeEventListener(\"mousedown\", this.onClick);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  height: 100%;\r\n  position: relative;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rotatedGraphics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rotatedGraphics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rotatedGraphics.vue?vue&type=template&id=6a7f7377&scoped=true&\"\nimport script from \"./rotatedGraphics.vue?vue&type=script&lang=js&\"\nexport * from \"./rotatedGraphics.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rotatedGraphics.vue?vue&type=style&index=0&id=6a7f7377&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a7f7377\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rotatedGraphics.vue?vue&type=style&index=0&id=6a7f7377&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rotatedGraphics.vue?vue&type=style&index=0&id=6a7f7377&lang=scss&scoped=true&\""],"sourceRoot":""}