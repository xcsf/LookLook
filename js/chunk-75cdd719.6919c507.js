(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75cdd719"],{"011d":function(t,e,r){},"0c62":function(t,e,r){"use strict";var a=r("011d"),n=r.n(a);n.a},"1dde":function(t,e,r){var a=r("d039"),n=r("b622"),o=r("60ae"),i=n("species");t.exports=function(t){return o>=51||!a((function(){var e=[],r=e.constructor={};return r[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3c2c":function(t,e,r){},"6e83":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("g-canvas",{ref:"gcanvas"})],1)},n=[],o=r("f31e"),i={name:"WebGL",components:{gCanvas:o["a"]},data:function(){return{canvas:null,gl:null,a_Position:null,u_FragColor:null,VSHADER_SOURCE:"attribute vec4 a_Position;\nvoid main() {\n  gl_Position = a_Position;\n  gl_PointSize = 10.0;\n}\n",FSHADER_SOURCE:"precision mediump float;\nuniform vec4 u_FragColor;\nvoid main() {\n  gl_FragColor = u_FragColor;\n}\n",points:[],colors:[]}},created:function(){},mounted:function(){this.gl=this.$refs.gcanvas.gl,this.canvas=this.$refs.gcanvas.canvas,this.$refs.gcanvas.initShaders(this.gl,this.VSHADER_SOURCE,this.FSHADER_SOURCE)?this.draw():console.log("Failed to intialize shaders.")},methods:{draw:function(){this.a_Position=this.gl.getAttribLocation(this.gl.program,"a_Position"),this.a_Position<0?console.log("Failed to get the storage location of a_Position"):(this.u_FragColor=this.gl.getUniformLocation(this.gl.program,"u_FragColor"),this.u_FragColor?(this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.canvas.addEventListener("mousedown",this.onClick)):console.log("Failed to get the storage location of u_FragColor"))},onClick:function(t){for(var e=0;e<1e3;e++)this.points.push([Math.random(),Math.random()]),this.colors.push([Math.random(),Math.random(),Math.random(),1]);var r=t.clientX,a=t.clientY,n=t.target.getBoundingClientRect();r=(r-n.left-this.canvas.width/2)/(this.canvas.width/2),a=(this.canvas.height/2-(a-n.top))/(this.canvas.height/2),console.log({x:r,y:a}),this.points.push([r,a]),this.colors.push([Math.random(),Math.random(),Math.random(),1]),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(var o=this.points.length,i=0;i<o;i++)this.gl.vertexAttrib3f(this.a_Position,this.points[i][0],this.points[i][1],0),this.gl.uniform4fv(this.u_FragColor,this.colors[i]),this.gl.drawArrays(this.gl.POINTS,0,1)}},beforeDestroy:function(){this.canvas.removeEventListener("mousedown",this.onClick)}},s=i,c=(r("0c62"),r("2877")),l=Object(c["a"])(s,a,n,!1,null,"09e2743a",null);e["default"]=l.exports},8418:function(t,e,r){"use strict";var a=r("c04e"),n=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var i=a(e);i in t?n.f(t,i,o(0,r)):t[i]=r}},"92ae":function(t,e,r){"use strict";var a=r("3c2c"),n=r.n(a);n.a},e8b5:function(t,e,r){var a=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},f31e:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper-canvas"},[r("canvas",{attrs:{id:"webgl"}},[t._v('Please use a browser that supports "canvas"')])])}],o=(r("fb6a"),{name:"WebGL",data:function(){return{canvas:null,gl:null}},created:function(){},mounted:function(){this.canvas=this.$el.querySelector("canvas"),this.onresize(),this.initWebGL()},methods:{initWebGL:function(){this.gl=this.canvas.getContext("webgl"),this.gl||alert("Unable to initialize WebGL. Your browser or machine may not support it.")},initShaders:function(t,e,r){var a=this.createProgram(t,e,r);return a?(t.useProgram(a),t.program=a,!0):(console.log("Failed to create program"),!1)},createProgram:function(t,e,r){var a=this.loadShader(t,t.VERTEX_SHADER,e),n=this.loadShader(t,t.FRAGMENT_SHADER,r);if(!a||!n)return null;var o=t.createProgram();if(!o)return null;if(t.attachShader(o,a),t.attachShader(o,n),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var i=t.getProgramInfoLog(o);throw t.deleteProgram(o),t.deleteShader(n),t.deleteShader(a),"WebGL program 不能编译. \n\n"+i}return o},loadShader:function(t,e,r){var a=t.createShader(e);if(null==a)return console.log("unable to create shader"),null;t.shaderSource(a,r),t.compileShader(a);var n=t.getShaderParameter(a,t.COMPILE_STATUS);if(!n){var o=t.getShaderInfoLog(a);return console.log("Failed to compile shader: "+o),t.deleteShader(a),null}return a},onresize:function(){var t=getComputedStyle(this.$el).getPropertyValue("width"),e=getComputedStyle(this.$el).getPropertyValue("height");this.canvas.width=t.slice(0,-2),this.canvas.height=e.slice(0,-2)}},beforeDestroy:function(){}}),i=o,s=(r("92ae"),r("2877")),c=Object(s["a"])(i,a,n,!1,null,"e1a9e524",null);e["a"]=c.exports},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("861d"),o=r("e8b5"),i=r("23cb"),s=r("50c4"),c=r("fc6a"),l=r("8418"),h=r("1dde"),u=r("b622"),g=u("species"),d=[].slice,f=Math.max;a({target:"Array",proto:!0,forced:!h("slice")},{slice:function(t,e){var r,a,h,u=c(this),v=s(u.length),m=i(t,v),p=i(void 0===e?v:e,v);if(o(u)&&(r=u.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[g],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return d.call(u,m,p);for(a=new(void 0===r?Array:r)(f(p-m,0)),h=0;m<p;m++,h++)m in u&&l(a,h,u[m]);return a.length=h,a}})}}]);
//# sourceMappingURL=chunk-75cdd719.6919c507.js.map