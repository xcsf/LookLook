{"version":3,"sources":["webpack:///./src/components/webgl/moveGraphics.vue?8934","webpack:///src/components/webgl/moveGraphics.vue","webpack:///./src/components/webgl/moveGraphics.vue?cfd6","webpack:///./src/components/webgl/moveGraphics.vue","webpack:///./src/components/webgl/moveGraphics.vue?3c34"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","staticRenderFns","name","components","gCanvas","data","canvas","gl","a_Position","u_FragColor","u_Translation","vertexBuffer","VSHADER_SOURCE","FSHADER_SOURCE","points","colors","offset","speedX","speedY","vertices","Float32Array","created","mounted","$refs","gcanvas","width","height","draw","console","log","methods","getAttribLocation","program","getUniformLocation","clearColor","clear","COLOR_BUFFER_BIT","initVertexBuffers","addEventListener","onClick","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","setInterval","moveTrangle","uniform4fv","beforeDestroy","removeEventListener","component"],"mappings":"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","file":"js/chunk-b9e84e3c.e629dfdd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('g-canvas',{ref:\"gcanvas\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrapper\">\r\n    <g-canvas ref=\"gcanvas\"></g-canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gCanvas from \"./canvas\";\r\nexport default {\r\n  name: \"moveGraphics\",\r\n  components: {\r\n    gCanvas\r\n  },\r\n  data() {\r\n    return {\r\n      canvas: null,\r\n      gl: null,\r\n      a_Position: null,\r\n      u_FragColor: null,\r\n      u_Translation: null,\r\n      vertexBuffer: null,\r\n      VSHADER_SOURCE:\r\n        \"attribute vec4 a_Position;\\n\" +\r\n        \"uniform vec4 u_Translation;\\n\" +\r\n        \"void main() {\\n\" +\r\n        \"  gl_Position = a_Position + u_Translation;\\n\" +\r\n        \"  gl_PointSize = 10.0;\\n\" +\r\n        \"}\\n\",\r\n      FSHADER_SOURCE:\r\n        \"precision mediump float;\\n\" +\r\n        \"uniform vec4 u_FragColor;\\n\" +\r\n        \"void main() {\\n\" +\r\n        \"  gl_FragColor = u_FragColor;\\n\" +\r\n        \"}\\n\",\r\n      points: [],\r\n      colors: [],\r\n      offset: [0.0, 0.0, 0.0],\r\n      speedX: 10,\r\n      speedY: 10,\r\n      vertices: new Float32Array([0, 0.5, -0.5, -0.5, 0.5, -0.5])\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.gl = this.$refs.gcanvas.gl;\r\n    this.canvas = this.$refs.gcanvas.canvas;\r\n    if (\r\n      !this.$refs.gcanvas.initShaders(\r\n        this.gl,\r\n        this.VSHADER_SOURCE,\r\n        this.FSHADER_SOURCE\r\n      )\r\n    ) {\r\n      console.log(\"Failed to intialize shaders.\");\r\n      return;\r\n    }\r\n    this.speedX = this.speedX / this.canvas.width;\r\n    this.speedY = this.speedY / this.canvas.height;\r\n    this.draw(this.gl);\r\n  },\r\n  methods: {\r\n    draw(gl) {\r\n      this.a_Position = gl.getAttribLocation(gl.program, \"a_Position\");\r\n      if (this.a_Position < 0) {\r\n        console.log(\"Failed to get the storage location of a_Position\");\r\n        return;\r\n      }\r\n      this.u_FragColor = gl.getUniformLocation(gl.program, \"u_FragColor\");\r\n      if (!this.u_FragColor) {\r\n        console.log(\"Failed to get the storage location of u_FragColor\");\r\n        return;\r\n      }\r\n      gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n      // Clear the color buffer with specified clear color\r\n      gl.clear(gl.COLOR_BUFFER_BIT);\r\n      if (this.initVertexBuffers(gl) < 0) {\r\n        console.log(\"Failed to set the positions of the vertices\");\r\n        return;\r\n      }\r\n      this.u_Translation = gl.getUniformLocation(gl.program, \"u_Translation\");\r\n      this.canvas.addEventListener(\"mousedown\", this.onClick);\r\n    },\r\n    initVertexBuffers(gl) {\r\n      this.vertexBuffer = gl.createBuffer();\r\n      if (!this.vertexBuffer) {\r\n        console.log(\"Failed to create the buffer object\");\r\n        return -1;\r\n      }\r\n      // Bind the buffer object to target\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\r\n      // Write date into the buffer object\r\n      gl.bufferData(gl.ARRAY_BUFFER, this.vertices, gl.STATIC_DRAW);\r\n      // Assign the buffer object to a_Position variable\r\n      gl.vertexAttribPointer(this.a_Position, 2, gl.FLOAT, false, 0, 0);\r\n      // Enable the assignment to a_Position variable\r\n      gl.enableVertexAttribArray(this.a_Position);\r\n    },\r\n    onClick(event) {\r\n      //   let x = event.clientX; // x coordinate of a mouse pointer\r\n      //   let y = event.clientY; // y coordinate of a mouse pointer\r\n      //   let rect = event.target.getBoundingClientRect();\r\n      //   x = (x - rect.left - this.canvas.width / 2) / (this.canvas.width / 2);\r\n      //   y = (this.canvas.height / 2 - (y - rect.top)) / (this.canvas.height / 2);\r\n      //   this.colors.push([Math.random(), Math.random(), Math.random(), 1.0]);\r\n      setInterval(() => {\r\n        this.moveTrangle();\r\n        this.gl.uniform4f(\r\n          this.u_Translation,\r\n          this.offset[0],\r\n          this.offset[1],\r\n          this.offset[2],\r\n          0.0\r\n        );\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n        // Draw\r\n        this.gl.drawArrays(this.gl.POINTS, 0, 3);\r\n        this.gl.drawArrays(this.gl.TRIANGLES, 0, 3);\r\n      }, 16);\r\n    },\r\n    moveTrangle() {\r\n      if (this.offset[0] + 0.5 >= 1.0 || this.offset[0] - 0.5 <= -1.0) {\r\n        this.gl.uniform4fv(this.u_FragColor, [\r\n          Math.random(),\r\n          Math.random(),\r\n          Math.random(),\r\n          0.5\r\n        ]);\r\n        this.speedX = -this.speedX;\r\n      }\r\n      if (this.offset[1] + 0.5 >= 1.0 || this.offset[1] - 0.5 <= -1.0) {\r\n        this.gl.uniform4fv(this.u_FragColor, [\r\n          Math.random(),\r\n          Math.random(),\r\n          Math.random(),\r\n          0.5\r\n        ]);\r\n        this.speedY = -this.speedY;\r\n      }\r\n      this.offset[0] += this.speedX;\r\n      this.offset[1] += this.speedY;\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.canvas.removeEventListener(\"mousedown\", this.onClick);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  height: 100%;\r\n  position: relative;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./moveGraphics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./moveGraphics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./moveGraphics.vue?vue&type=template&id=11452192&scoped=true&\"\nimport script from \"./moveGraphics.vue?vue&type=script&lang=js&\"\nexport * from \"./moveGraphics.vue?vue&type=script&lang=js&\"\nimport style0 from \"./moveGraphics.vue?vue&type=style&index=0&id=11452192&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11452192\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./moveGraphics.vue?vue&type=style&index=0&id=11452192&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./moveGraphics.vue?vue&type=style&index=0&id=11452192&lang=scss&scoped=true&\""],"sourceRoot":""}