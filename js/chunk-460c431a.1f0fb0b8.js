(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-460c431a"],{"0dfb":function(t,e,i){"use strict";var o=i("12d0"),r=i.n(o);r.a},"12d0":function(t,e,i){},"12f8":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("g-canvas",{ref:"gcanvas"})],1)},r=[],a=(i("ace4"),i("0d03"),i("d3b7"),i("cfc3"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a9"),i("72f7"),i("f31e")),s=i("7c72"),n={name:"look3dTriangles",components:{gCanvas:a["a"]},data:function(){return{canvas:null,gl:null,a_Position:null,a_PointSize:null,u_FragColor:null,a_Color:null,u_ModelMatrix:null,u_ViewMatrix:null,vertexSizeBuffer:null,VSHADER_SOURCE:"attribute vec4 a_Position;\nattribute float a_PointSize;\nattribute vec4 a_Color;\nvarying vec4 v_Color;\nuniform mat4 u_ViewMatrix;\nuniform mat4 u_ModelMatrix;\nvoid main() {\n  gl_Position = u_ViewMatrix * u_ModelMatrix * a_Position;\n  gl_PointSize = a_PointSize;\n  v_Color = a_Color;\n}\n",FSHADER_SOURCE:"precision mediump float;\nuniform vec4 u_FragColor;\nvarying vec4 v_Color;\nvoid main() {\n  gl_FragColor = v_Color;\n}\n",g_last:Date.now(),speedX:10,speedY:10,speedAngle:90,curAngle:0,curX:0,curY:0,verticesSizeColor:new Float32Array([0,.5,-.4,.4,1,.4,-.5,-.5,-.4,.4,1,.4,.5,-.5,-.4,1,.4,.4,.5,.4,-.2,1,.4,.4,-.5,.4,-.2,1,1,.4,0,-.6,-.2,1,1,.4,0,.5,0,.4,.4,1,-.5,-.5,0,.4,.4,1,.5,-.5,0,1,.4,.4]),modelMatrix:new s["a"],viewMatrix:new s["a"],curEyeX:.2,curEyeY:.25,curEyeZ:.25}},created:function(){},mounted:function(){this.gl=this.$refs.gcanvas.gl,this.canvas=this.$refs.gcanvas.canvas,this.$refs.gcanvas.initShaders(this.gl,this.VSHADER_SOURCE,this.FSHADER_SOURCE)?(this.speedX=this.speedX/this.canvas.width,this.speedY=this.speedY/this.canvas.height,this.init(this.gl),document.addEventListener("keydown",this.onkeydown)):console.log("Failed to intialize shaders.")},methods:{init:function(t){if(this.a_Position=t.getAttribLocation(t.program,"a_Position"),this.a_Position<0)console.log("Failed to get the storage location of a_Position");else if(this.a_PointSize=t.getAttribLocation(t.program,"a_PointSize"),this.a_PointSize<0)console.log("Failed to get the storage location of a_PointSize");else{if(this.a_Color=t.getAttribLocation(t.program,"a_Color"),this.a_Color<0)return console.log("Failed to get the storage location of a_Color"),-1;this.u_ModelMatrix=t.getUniformLocation(t.program,"u_ModelMatrix"),this.u_ViewMatrix=t.getUniformLocation(t.program,"u_ViewMatrix"),this.u_ViewMatrix&&this.u_ModelMatrix?(t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),this.initVertexBuffers(t)<0?console.log("Failed to set the positions of the vertices"):this.tick()):console.log("Failed to get the storage location of u_ModelMatrix")}},initVertexBuffers:function(t){if(this.vertexSizeBuffer=t.createBuffer(),!this.vertexSizeBuffer)return console.log("Failed to create the buffer object"),-1;t.bindBuffer(t.ARRAY_BUFFER,this.vertexSizeBuffer),t.bufferData(t.ARRAY_BUFFER,this.verticesSizeColor,t.STATIC_DRAW);var e=this.verticesSizeColor.BYTES_PER_ELEMENT;t.vertexAttribPointer(this.a_Position,3,t.FLOAT,!1,6*e,0),t.enableVertexAttribArray(this.a_Position),t.vertexAttribPointer(this.a_Color,3,t.FLOAT,!1,6*e,3*e),t.enableVertexAttribArray(this.a_Color)},tick:function(t){this.rotatedGraphics(),this.draw(),requestAnimationFrame(this.tick,this.canvas)},draw:function(){this.gl.uniformMatrix4fv(this.u_ModelMatrix,!1,this.modelMatrix.elements),this.gl.uniformMatrix4fv(this.u_ViewMatrix,!1,this.viewMatrix.elements),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.POINTS,0,9),this.gl.drawArrays(this.gl.TRIANGLES,0,9)},animate:function(t){var e=Date.now(),i=e-this.g_last;this.g_last=e;var o=t+this.speedAngle*i/1e3;return o%360},rotatedGraphics:function(){this.curAngle=this.animate(this.curAngle),(this.curX>=.5||this.curX<=-.5)&&(this.speedX=-this.speedX),(this.curY>=.5||this.curY<=-.5)&&(this.speedY=-this.speedY),this.curX+=this.speedX,this.curY+=this.speedY,this.viewMatrix.setLookAt(this.curEyeX,this.curEyeY,this.curEyeZ,0,0,0,0,1,0),this.modelMatrix.setRotate(this.curAngle,0,0,1)},onkeydown:function(t){if(39==t.keyCode)this.curEyeX+=.02;else{if(37!=t.keyCode)return;this.curEyeX-=.02}}},beforeDestroy:function(){this.canvas.removeEventListener("mousedown",this.onClick),document.removeEventListener("keydown",this.onkeydown)}},l=n,c=(i("0dfb"),i("2877")),h=Object(c["a"])(l,o,r,!1,null,"e904c3a6",null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-460c431a.1f0fb0b8.js.map